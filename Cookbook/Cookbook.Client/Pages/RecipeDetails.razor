@page "/RecipeDetails/{Id:int}"
@inherits RecipeDetailsBase

@if (Recipe == null && ErrorMessage == null)
{
	<DisplaySpinner />
}
else if (ErrorMessage != null)
{
	<DisplayError ErrorMessage="@ErrorMessage"></DisplayError>
}
else
{
	<h1 class="capitalized-title my-3">@Recipe.Title</h1>

	<div class="row">
		<div class="col-md-4">
			<h3>Ingridients: </h3>
			<table class="table">
				<tbody>
					@foreach (IngredientDto ingredient in Recipe.Ingredients)
					{
						<tr>
							<td class="capitalized-title">@ingredient.Name</td>
							<td>@GetIngredientQty(ingredient)</td>
							<td>@ingredient.Unit</td>
						</tr>
					}
				</tbody>
			</table>
		</div>
		<div class="col-md-6">
			<p class="mb-4">
				<h3>Notes:</h3>
				@Recipe.Notes
			</p>
			<p class="mb-4">
				<b>Category: </b>
				@Recipe.CategoryName
			</p>
			<p class="mb-4">
				<b>Created: </b>
				@Recipe.RecipeCreated.ToString("MM/dd/yyyy")
			</p>
			<p class="mb-4">
				<b>Source: </b>
				@Recipe.Source
			</p>
		</div>
	</div>
	<div class="float-end m-5">
		<button class="btn btn-primary btn-lg btn-lg-gray mx-2"
				@onclick="DeleteRecipe_Click">
			Delete
		</button>
		<button class="btn btn-primary btn-lg btn-lg-gray mx-2"
				@onclick="EditRecipe_Click">
			Edit
		</button>
	</div>
}
